(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{3797:function(e,t,s){Promise.resolve().then(s.bind(s,5819))},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3664).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4630:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3664).Z)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]])},5819:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var r=s(7437),a=s(7756),n=s(4445),i=s(2265),l=s(9820),o=s(2381),d=s(9174),c=s(4630),u=s(4428);function m(e){let{locations:t,targetLocation:s}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"font-medium",children:["Scattered across ",t.length," locations"]})]}),t.map((e,t)=>{let a=e===s;return(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border transition-colors ".concat(a?"bg-green-500/10 border-green-500/30":"bg-accent/50 border-border"),children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 shrink-0 ".concat(a?"text-green-400":"text-muted-foreground")}),(0,r.jsx)("code",{className:"text-xs flex-1 break-all",children:e}),a&&(0,r.jsx)(d.C,{variant:"outline",className:"text-green-400 border-green-500 shrink-0",children:"Target"})]},t)})]})}var x=s(3664);let h=(0,x.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),f=(0,x.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var p=s(3448),g=s(1593);function v(e){var t,s,a;let{item:n}=e,i=(null===(t=n.locations)||void 0===t?void 0:t.filter(e=>e!==n.targetLocation))||[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 text-red-400"}),(0,r.jsx)("h3",{className:"font-semibold text-sm",children:"Current State"})]}),(0,r.jsx)("div",{className:"space-y-2",children:null===(s=n.locations)||void 0===s?void 0:s.map((e,t)=>(0,r.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,r.jsx)("code",{className:"text-xs break-all",children:e})},t))}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-muted-foreground",children:["Scattered across ",(null===(a=n.locations)||void 0===a?void 0:a.length)||0," locations"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 text-green-400"}),(0,r.jsx)("h3",{className:"font-semibold text-sm",children:"After Consolidation"})]}),(0,r.jsx)("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:(0,r.jsx)("code",{className:"text-xs break-all",children:n.targetLocation})}),(0,r.jsx)("div",{className:"mt-3 text-xs text-muted-foreground",children:"All files in one location"})]})]}),(0,r.jsx)(g.Z,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[(0,r.jsx)(h,{className:"h-4 w-4"}),"What will happen"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold",children:"1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Move files from scattered locations"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[n.filesToMove," files (",(0,p.t)(n.bytesToMove||0),") will be moved from:"]}),(0,r.jsx)("div",{className:"mt-2 space-y-1",children:i.map((e,t)=>(0,r.jsx)("code",{className:"text-xs bg-black/30 px-2 py-1 rounded block",children:e},t))})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center text-xs font-bold",children:"2"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Consolidate to primary location"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All files will be in:"}),(0,r.jsx)("code",{className:"text-xs bg-black/30 px-2 py-1 rounded block mt-2",children:n.targetLocation})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold",children:"3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Clean up empty directories"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Empty directories will be removed from old locations"})]})]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg flex items-start gap-3",children:[(0,r.jsx)(f,{className:"h-5 w-5 text-yellow-400 shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-yellow-400",children:"Storage Requirements"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Ensure the target location has at least ",(0,p.t)(n.bytesToMove||0)," of free space"]})]})]})]})}let j=(0,x.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),y=(0,x.Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),N=(0,x.Z)("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);var b=s(1671),w=s(9827),k=s(1770),C=s(180),Z=s(4438),z=s(4291);function M(e){var t;let{item:s}=e,[a,u]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),f=function(e){let t=(0,w.NL)();return(0,k.D)({mutationFn:t=>{let{dryRun:s=!1}=t;return C.hi.post("/scattered/".concat(e,"/consolidate"),{dryRun:s})},onSuccess:()=>{t.invalidateQueries({queryKey:n.ad.scattered}),t.invalidateQueries({queryKey:n.ad.dashboard})}})}(s.id||0),g=async()=>{try{let e=await f.mutateAsync({dryRun:!0});Z.Am.success("Dry run complete: Would move ".concat(e.filesMoved," files")),u(!1)}catch(e){Z.Am.error("Dry run failed"),console.error(e)}},M=async()=>{try{let e=await f.mutateAsync({dryRun:!1});Z.Am.success("Consolidated successfully: ".concat(e.filesMoved," files moved (").concat((0,p.t)(e.bytesMoved||0),")")),h(!1)}catch(e){Z.Am.error("Consolidation failed"),console.error(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[(0,r.jsx)(l.Ol,{className:"bg-accent/30 border-b border-border",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2 text-xl",children:["movie"===s.mediaType?(0,r.jsx)(j,{className:"h-5 w-5 text-blue-500"}):(0,r.jsx)(y,{className:"h-5 w-5 text-purple-500"}),s.title,s.year&&(0,r.jsxs)("span",{className:"text-muted-foreground font-normal",children:["(",s.year,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)(d.C,{variant:"outline",className:"capitalize",children:s.mediaType}),(0,r.jsxs)(d.C,{variant:"secondary",children:[(null===(t=s.locations)||void 0===t?void 0:t.length)||0," locations"]})]})]})})}),(0,r.jsxs)(l.aY,{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-accent/50 p-4 rounded-lg border border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[(0,r.jsx)(N,{className:"h-4 w-4"}),"Files to Move"]}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.filesToMove||0})]}),(0,r.jsxs)("div",{className:"bg-accent/50 p-4 rounded-lg border border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[(0,r.jsx)(j,{className:"h-4 w-4"}),"Total Size"]}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:(0,p.t)(s.bytesToMove||0)})]})]}),(0,r.jsx)(m,{locations:s.locations||[],targetLocation:s.targetLocation}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(o.z,{variant:"outline",onClick:()=>u(!0),className:"flex-1",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,r.jsxs)(o.z,{onClick:()=>h(!0),className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Consolidate"]})]})]})]}),(0,r.jsx)(z.Vq,{open:a,onOpenChange:u,children:(0,r.jsxs)(z.cZ,{className:"max-w-3xl",children:[(0,r.jsxs)(z.fK,{children:[(0,r.jsx)(z.$N,{children:"Consolidation Preview"}),(0,r.jsxs)(z.Be,{children:["Review what will happen before consolidating ",s.title]})]}),(0,r.jsx)(v,{item:s}),(0,r.jsxs)(z.cN,{children:[(0,r.jsx)(o.z,{variant:"ghost",onClick:()=>u(!1),children:"Close"}),(0,r.jsx)(o.z,{variant:"outline",onClick:g,disabled:f.isPending,children:f.isPending?"Running...":"Dry Run"})]})]})}),(0,r.jsx)(z.Vq,{open:x,onOpenChange:h,children:(0,r.jsxs)(z.cZ,{children:[(0,r.jsxs)(z.fK,{children:[(0,r.jsx)(z.$N,{children:"Confirm Consolidation"}),(0,r.jsxs)(z.Be,{children:["This will move ",s.filesToMove," files to the target location. This action cannot be undone."]})]}),(0,r.jsx)("div",{className:"py-4",children:(0,r.jsx)("div",{className:"space-y-2 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(N,{className:"h-5 w-5 text-yellow-400 shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-yellow-400",children:[s.filesToMove," files will be moved"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Total size: ",(0,p.t)(s.bytesToMove||0)]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Target: ",(0,r.jsx)("code",{className:"bg-black/30 px-1 py-0.5 rounded",children:s.targetLocation})]})]})]})})}),(0,r.jsxs)(z.cN,{children:[(0,r.jsx)(o.z,{variant:"ghost",onClick:()=>h(!1),children:"Cancel"}),(0,r.jsx)(o.z,{onClick:M,disabled:f.isPending,className:"bg-green-600 hover:bg-green-700",children:f.isPending?"Consolidating...":"Consolidate"})]})]})})]})}var q=s(9140);function T(){let{data:e,isLoading:t}=(0,n.x4)(),s=(null==e?void 0:e.totalItems)||0,i=(null==e?void 0:e.totalMoves)||0,o=(null==e?void 0:e.totalBytes)||0;return(0,r.jsx)(a.V,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"h-8 w-8 text-orange-500"}),"Consolidation"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Organize scattered media into single locations"})]}),s>0&&(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(d.C,{variant:"outline",className:"text-lg px-4 py-2",children:[s," scattered ",1===s?"item":"items"]})})]}),!t&&s>0&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:(0,r.jsx)(c.Z,{className:"h-6 w-6 text-orange-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Scattered Items"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:s})]})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:(0,r.jsx)(j,{className:"h-6 w-6 text-blue-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Files to Move"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:i})]})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:(0,r.jsx)(j,{className:"h-6 w-6 text-purple-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Size"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:(0,p.t)(o)})]})]})})})]}),t?(0,r.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsx)(q.O,{className:"h-48 w-full"})})},e))}):(null==e?void 0:e.items)&&e.items.length>0?(0,r.jsx)("div",{className:"space-y-4",children:e.items.map(e=>(0,r.jsx)(M,{item:e},e.id))}):(0,r.jsx)(l.Zb,{children:(0,r.jsxs)(l.aY,{className:"flex flex-col items-center justify-center py-16",children:[(0,r.jsx)(b.Z,{className:"h-20 w-20 text-green-400 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Everything is Organized"}),(0,r.jsx)("p",{className:"text-muted-foreground text-center max-w-md",children:"No scattered media found. All your series and movies are already consolidated in their primary locations."})]})})]})})}},7756:function(e,t,s){"use strict";s.d(t,{V:function(){return x}});var r=s(7437),a=s(7648),n=s(3145),i=s(5466),l=s(8867),o=s(2735),d=s(4401),c=s(2057);let u=[{name:"Dashboard",href:"/",icon:i.Z},{name:"Duplicates",href:"/duplicates",icon:l.Z},{name:"Queue",href:"/queue",icon:o.Z},{name:"Activity",href:"/activity",icon:d.Z},{name:"Consolidation",href:"/consolidation",icon:c.Z}];function m(){return(0,r.jsxs)("aside",{className:"w-64 bg-zinc-900 border-r border-zinc-800 h-screen p-4",children:[(0,r.jsxs)("div",{className:"mb-8 flex items-center gap-3",children:[(0,r.jsx)(n.default,{src:"/jellywooch.png",alt:"JellyWatch",width:36,height:36,className:"rounded"}),(0,r.jsx)("h1",{className:"text-xl font-bold",children:"JellyWatch"})]}),(0,r.jsx)("nav",{className:"space-y-2",children:u.map(e=>(0,r.jsxs)(a.default,{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-zinc-800 hover:text-zinc-100",children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),e.name]},e.name))})]})}function x(e){let{children:t}=e;return(0,r.jsxs)("div",{className:"flex min-h-screen bg-zinc-950 text-zinc-100",children:[(0,r.jsx)(m,{}),(0,r.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:t})]})}},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437);s(2265);var a=s(535),n=s(3448);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7495),i=s(535),l=s(3448);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},4291:function(e,t,s){"use strict";s.d(t,{$N:function(){return h},Be:function(){return f},Vq:function(){return o},cN:function(){return x},cZ:function(){return u},fK:function(){return m}});var r=s(7437),a=s(2265),n=s(3275),i=s(2489),l=s(3448);let o=n.fC;n.xz;let d=n.h_;n.x8;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});c.displayName=n.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[a,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};m.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});h.displayName=n.Dx.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});f.displayName=n.dk.displayName},1593:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(7437),a=s(2265),n=s(759),i=s(3448);let l=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:l=!0,...o}=e;return(0,r.jsx)(n.f,{ref:t,decorative:l,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...o})});l.displayName=n.f.displayName},9140:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(7437),a=s(3448);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},4445:function(e,t,s){"use strict";s.d(t,{Jl:function(){return d},LI:function(){return c},QU:function(){return o},ad:function(){return l},nQ:function(){return m},qy:function(){return h},vp:function(){return x},x4:function(){return u}});var r=s(1713),a=s(9827),n=s(1770),i=s(180);let l={dashboard:["dashboard"],mediaManagers:["media-managers"],duplicates:["duplicates"],scattered:["scattered"],auth:["auth","status"]};function o(){return(0,r.a)({queryKey:l.dashboard,queryFn:()=>i.hi.get("/dashboard"),refetchInterval:3e4})}function d(){return(0,r.a)({queryKey:l.mediaManagers,queryFn:()=>i.hi.get("/media-managers")})}function c(){return(0,r.a)({queryKey:l.duplicates,queryFn:()=>i.hi.get("/duplicates"),refetchInterval:6e4})}function u(){return(0,r.a)({queryKey:l.scattered,queryFn:()=>i.hi.get("/scattered")})}function m(){return(0,r.a)({queryKey:l.auth,queryFn:()=>i.hi.get("/auth/status")})}function x(){let e=(0,a.NL)();return(0,n.D)({mutationFn:e=>{let{groupId:t,fileId:s}=e;return i.hi.delete("/duplicates/".concat(t).concat(s?"?fileId=".concat(s):""))},onSuccess:()=>{e.invalidateQueries({queryKey:l.duplicates}),e.invalidateQueries({queryKey:l.dashboard})}})}function h(e){let t=(0,a.NL)();return(0,n.D)({mutationFn:t=>{let{itemId:s,blocklist:r=!1}=t;return i.hi.delete("/media-managers/".concat(e,"/queue/").concat(s,"?blocklist=").concat(r))},onSuccess:()=>{t.invalidateQueries({queryKey:["media-managers",e,"queue"]}),t.invalidateQueries({queryKey:l.mediaManagers})}})}},180:function(e,t,s){"use strict";s.d(t,{hi:function(){return l}});class r extends Error{constructor(e,t,s){super(s),this.status=e,this.code=t,this.name="APIError"}}class a extends Error{constructor(e="Network error"){super(e),this.name="NetworkError"}}class n extends Error{constructor(e="Authentication required"){super(e),this.name="AuthError"}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat("/api/v1").concat(e);try{let e=await fetch(s,{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"});if(401===e.status)throw new n;if(!e.ok){let t=await e.json().catch(()=>({}));throw new r(e.status,t.code||"UNKNOWN_ERROR",t.message||"HTTP ".concat(e.status))}return e.json()}catch(e){if(e instanceof r||e instanceof n)throw e;if(e instanceof TypeError)throw new a;throw e}}let l={get:e=>i(e,{method:"GET"}),post:(e,t)=>i(e,{method:"POST",body:t?JSON.stringify(t):void 0}),delete:e=>i(e,{method:"DELETE"})}},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n},t:function(){return i}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}function i(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB","TB"][t])}},759:function(e,t,s){"use strict";s.d(t,{f:function(){return c}});var r=s(2265);s(4887);var a=s(7495),n=s(7437),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,a.Z8)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:a,...i}=e,l=a?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),l="horizontal",o=["horizontal","vertical"],d=r.forwardRef((e,t)=>{let{decorative:s,orientation:r=l,...a}=e,d=o.includes(r)?r:l;return(0,n.jsx)(i.div,{"data-orientation":d,...s?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...a,ref:t})});d.displayName="Separator";var c=d}},function(e){e.O(0,[245,763,145,713,746,798,681,971,117,744],function(){return e(e.s=3797)}),_N_E=e.O()}]);