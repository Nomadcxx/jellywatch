(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{3649:function(e,t,r){Promise.resolve().then(r.bind(r,7122))},1671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(3664).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6137:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(3664).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(3664).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7122:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var n=r(7437),a=r(7756),s=r(2265),i=r(9820),l=r(2381),o=r(9174);r(4887);var c=r(7495),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,c.Z8)(`Primitive.${t}`),a=s.forwardRef((e,a)=>{let{asChild:s,...i}=e,l=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),u="Progress",[m,f]=function(e,t=[]){let r=[],a=()=>{let t=r.map(e=>s.createContext(e));return function(r){let n=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return a.scopeName=e,[function(t,a){let i=s.createContext(a);i.displayName=t+"Context";let l=r.length;r=[...r,a];let o=t=>{let{scope:r,children:a,...o}=t,c=r?.[e]?.[l]||i,d=s.useMemo(()=>o,Object.values(o));return(0,n.jsx)(c.Provider,{value:d,children:a})};return o.displayName=t+"Provider",[o,function(r,n){let o=n?.[e]?.[l]||i,c=s.useContext(o);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(a,...t)]}(u),[x,h]=m(u),g=s.forwardRef((e,t)=>{var r,a,s,i;let{__scopeProgress:l,value:o=null,max:c,getValueLabel:u=y,...m}=e;(c||0===c)&&!j(c)&&console.error((r="".concat(c),a="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=j(c)?c:100;null===o||w(o,f)||console.error((s="".concat(o),i="Progress","Invalid prop `value` of value `".concat(s,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=w(o,f)?o:null,g=b(h)?u(h,f):void 0;return(0,n.jsx)(x,{scope:l,value:h,max:f,children:(0,n.jsx)(d.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":b(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":N(h,f),"data-value":null!=h?h:void 0,"data-max":f,...m,ref:t})})});g.displayName=u;var p="ProgressIndicator",v=s.forwardRef((e,t)=>{var r;let{__scopeProgress:a,...s}=e,i=h(p,a);return(0,n.jsx)(d.div,{"data-state":N(i.value,i.max),"data-value":null!==(r=i.value)&&void 0!==r?r:void 0,"data-max":i.max,...s,ref:t})});function y(e,t){return"".concat(Math.round(e/t*100),"%")}function N(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function b(e){return"number"==typeof e}function j(e){return b(e)&&!isNaN(e)&&e>0}function w(e,t){return b(e)&&!isNaN(e)&&e<=t&&e>=0}v.displayName=p;var k=r(3448);let z=s.forwardRef((e,t)=>{let{className:r,value:a,...s}=e;return(0,n.jsx)(g,{ref:t,className:(0,k.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...s,children:(0,n.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});function C(e){let{progress:t,status:r,className:a,showPercentage:s=!0,animated:i=!0}=e,l=Math.min(Math.max(t,0),100);return(0,n.jsxs)("div",{className:(0,k.cn)("space-y-2",a),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r&&(0,n.jsx)("span",{className:(0,k.cn)("font-medium capitalize",(()=>{if(!r)return"text-muted-foreground";let e=r.toLowerCase();return e.includes("completed")||e.includes("finished")?"text-green-400":e.includes("downloading")||e.includes("active")?"text-blue-400":e.includes("failed")||e.includes("error")?"text-red-400":e.includes("stuck")||e.includes("warning")?"text-yellow-400":"text-muted-foreground"})()),children:r}),s&&(0,n.jsxs)("span",{className:"text-muted-foreground font-mono",children:[l.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(z,{value:l,className:(0,k.cn)("h-2",i&&"transition-all duration-300 ease-in-out")}),i&&l<100&&l>0&&(0,n.jsx)("div",{className:"absolute top-0 left-0 h-full bg-white/20 rounded-full animate-pulse",style:{width:"".concat(l,"%")}})]})]})}z.displayName=g.displayName;var q=r(1671),Z=r(3664);let R=(0,Z.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var M=r(6865),S=r(2735);let V=(0,Z.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var E=r(6137),I=r(4428),P=r(8930),_=r(4291),F=r(4445),K=r(4438);function D(e){let{item:t,managerId:r}=e,[a,c]=(0,s.useState)(!1),d=(0,F.qy)(r),u=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.id)try{await d.mutateAsync({itemId:Number(t.id),blocklist:e}),K.Am.success(e?"Item removed and added to blocklist":"Item cleared from queue"),c(!1)}catch(e){K.Am.error("Failed to clear item"),console.error(e)}},m=t.progress||0,f=t.errorMessage&&t.errorMessage.length>0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Zb,{className:(0,k.cn)("border-2 transition-all",(()=>{var e;let r=(null===(e=t.status)||void 0===e?void 0:e.toLowerCase())||"";return r.includes("completed")||r.includes("finished")?"border-green-500/30 bg-green-500/5":r.includes("failed")||r.includes("error")?"border-red-500/30 bg-red-500/5":t.isStuck?"border-yellow-500/30 bg-yellow-500/5":r.includes("downloading")?"border-blue-500/30 bg-blue-500/5":"border-border bg-card/50"})()),children:(0,n.jsx)(i.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"shrink-0 mt-1",children:(()=>{var e;let r=(null===(e=t.status)||void 0===e?void 0:e.toLowerCase())||"";return r.includes("completed")||r.includes("finished")?(0,n.jsx)(q.Z,{className:"h-5 w-5 text-green-400"}):r.includes("failed")||r.includes("error")?(0,n.jsx)(R,{className:"h-5 w-5 text-red-400"}):t.isStuck?(0,n.jsx)(M.Z,{className:"h-5 w-5 text-yellow-400"}):r.includes("downloading")?(0,n.jsx)(S.Z,{className:"h-5 w-5 text-blue-400 animate-bounce"}):(0,n.jsx)(V,{className:"h-5 w-5 text-muted-foreground"})})()}),(0,n.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg truncate",title:t.title,children:t.title}),(0,n.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[t.downloadClient&&(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(E.Z,{className:"h-3 w-3"}),t.downloadClient]}),t.size&&(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(I.Z,{className:"h-3 w-3"}),(0,k.t)(t.size)]}),t.timeLeft&&(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(V,{className:"h-3 w-3"}),t.timeLeft]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t.isStuck&&(0,n.jsx)(o.C,{variant:"outline",className:"border-yellow-500 text-yellow-400",children:"STUCK"}),(0,n.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"hover:bg-red-500/10 hover:text-red-400",children:(0,n.jsx)(P.Z,{className:"h-4 w-4"})})]})]}),m>0&&m<100&&(0,n.jsx)(C,{progress:m,status:t.status,animated:!t.isStuck}),void 0!==t.sizeRemaining&&t.sizeRemaining>0&&(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,k.t)(t.sizeRemaining)," remaining"]}),f&&(0,n.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:[(0,n.jsx)(R,{className:"h-4 w-4 text-red-400 shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-xs font-semibold text-red-400 mb-1",children:"Error"}),(0,n.jsx)("p",{className:"text-xs text-red-300 break-words",children:t.errorMessage})]})]})]})]})})}),(0,n.jsx)(_.Vq,{open:a,onOpenChange:c,children:(0,n.jsxs)(_.cZ,{children:[(0,n.jsxs)(_.fK,{children:[(0,n.jsx)(_.$N,{children:"Clear Queue Item?"}),(0,n.jsx)(_.Be,{children:"Choose how to clear this item from the queue."})]}),(0,n.jsxs)("div",{className:"py-4 space-y-2",children:[(0,n.jsx)("p",{className:"text-sm font-semibold",children:"Item:"}),(0,n.jsx)("div",{className:"text-sm bg-accent/50 p-3 rounded border border-border",children:t.title})]}),(0,n.jsxs)(_.cN,{className:"flex-col sm:flex-row gap-2",children:[(0,n.jsx)(l.z,{variant:"ghost",onClick:()=>c(!1),className:"w-full sm:w-auto",children:"Cancel"}),(0,n.jsx)(l.z,{variant:"outline",onClick:()=>u(!1),disabled:d.isPending,className:"w-full sm:w-auto",children:"Clear Only"}),(0,n.jsx)(l.z,{variant:"destructive",onClick:()=>u(!0),disabled:d.isPending,className:"w-full sm:w-auto",children:"Clear & Blocklist"})]})]})})]})}var L=r(1713),T=r(180);let B={all:["queue"],manager:e=>[...B.all,e]};var O=r(7168);function Q(){var e,t;let{data:r}=(0,F.Jl)(),s=(r||[]).find(e=>e.online),i=null==s?void 0:s.id,{data:l,isLoading:c}=(e=i||"",(0,L.a)({queryKey:B.manager(e),queryFn:()=>T.hi.get("/media-managers/".concat(e,"/queue")),refetchInterval:5e3,enabled:!!e})),{data:d,isLoading:u}=(t=i||"",(0,L.a)({queryKey:[...B.manager(t),"stuck"],queryFn:()=>T.hi.get("/media-managers/".concat(t,"/stuck")),refetchInterval:1e4,enabled:!!t})),m=(null==l?void 0:l.items)||[],f=(null==d?void 0:d.items)||[];return(0,n.jsx)(a.V,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,n.jsx)(S.Z,{className:"h-8 w-8"}),"Download Queue"]}),s&&(0,n.jsxs)("p",{className:"text-zinc-400 mt-1",children:[s.name," (",s.type,")"]})]})}),i?(0,n.jsxs)(O.mQ,{defaultValue:"active",children:[(0,n.jsxs)(O.dr,{children:[(0,n.jsxs)(O.SP,{value:"active",children:["Active",m.length>0&&(0,n.jsx)(o.C,{variant:"secondary",className:"ml-2",children:m.length})]}),(0,n.jsxs)(O.SP,{value:"stuck",children:["Stuck",f.length>0&&(0,n.jsx)(o.C,{variant:"destructive",className:"ml-2",children:f.length})]})]}),(0,n.jsx)(O.nU,{value:"active",className:"space-y-4",children:c?(0,n.jsx)("div",{className:"h-32 bg-zinc-900 rounded-lg animate-pulse"}):0===m.length?(0,n.jsx)("div",{className:"p-8 text-center text-zinc-400",children:"No active downloads"}):m.map(e=>(0,n.jsx)(D,{item:e,managerId:i},e.id))}),(0,n.jsx)(O.nU,{value:"stuck",className:"space-y-4",children:u?(0,n.jsx)("div",{className:"h-32 bg-zinc-900 rounded-lg animate-pulse"}):0===f.length?(0,n.jsx)("div",{className:"p-8 text-center text-zinc-400",children:"No stuck items"}):f.map(e=>(0,n.jsx)(D,{item:e,managerId:i},e.id))})]}):(0,n.jsxs)("div",{className:"p-8 bg-zinc-900 rounded-lg border border-zinc-800 text-center",children:[(0,n.jsx)(M.Z,{className:"h-12 w-12 text-zinc-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-zinc-400",children:"No active media manager"}),(0,n.jsx)("p",{className:"text-sm text-zinc-500 mt-2",children:"Configure Sonarr/Radarr in settings"})]})]})})}},7756:function(e,t,r){"use strict";r.d(t,{V:function(){return f}});var n=r(7437),a=r(7648),s=r(3145),i=r(5466),l=r(8867),o=r(2735),c=r(4401),d=r(2057);let u=[{name:"Dashboard",href:"/",icon:i.Z},{name:"Duplicates",href:"/duplicates",icon:l.Z},{name:"Queue",href:"/queue",icon:o.Z},{name:"Activity",href:"/activity",icon:c.Z},{name:"Consolidation",href:"/consolidation",icon:d.Z}];function m(){return(0,n.jsxs)("aside",{className:"w-64 bg-zinc-900 border-r border-zinc-800 h-screen p-4",children:[(0,n.jsxs)("div",{className:"mb-8 flex items-center gap-3",children:[(0,n.jsx)(s.default,{src:"/jellywooch.png",alt:"JellyWatch",width:36,height:36,className:"rounded"}),(0,n.jsx)("h1",{className:"text-xl font-bold",children:"JellyWatch"})]}),(0,n.jsx)("nav",{className:"space-y-2",children:u.map(e=>(0,n.jsxs)(a.default,{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-zinc-800 hover:text-zinc-100",children:[(0,n.jsx)(e.icon,{className:"h-4 w-4"}),e.name]},e.name))})]})}function f(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"flex min-h-screen bg-zinc-950 text-zinc-100",children:[(0,n.jsx)(m,{}),(0,n.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:t})]})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var n=r(7437);r(2265);var a=r(535),s=r(3448);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...a})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),a=r(2265),s=r(7495),i=r(535),l=r(3448);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(7437),a=r(2265),s=r(3448);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},4291:function(e,t,r){"use strict";r.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cN:function(){return f},cZ:function(){return u},fK:function(){return m}});var n=r(7437),a=r(2265),s=r(3275),i=r(2489),l=r(3448);let o=s.fC;s.xz;let c=s.h_;s.x8;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});d.displayName=s.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(d,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[a,(0,n.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let f=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};f.displayName="DialogFooter";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});x.displayName=s.Dx.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});h.displayName=s.dk.displayName},7168:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var n=r(7437),a=r(2265),s=r(4419),i=r(3448);let l=s.fC,o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...a})});o.displayName=s.aV.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...a})});c.displayName=s.xz.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=s.VY.displayName},4445:function(e,t,r){"use strict";r.d(t,{Jl:function(){return c},LI:function(){return d},QU:function(){return o},ad:function(){return l},nQ:function(){return m},qy:function(){return x},vp:function(){return f},x4:function(){return u}});var n=r(1713),a=r(9827),s=r(1770),i=r(180);let l={dashboard:["dashboard"],mediaManagers:["media-managers"],duplicates:["duplicates"],scattered:["scattered"],auth:["auth","status"]};function o(){return(0,n.a)({queryKey:l.dashboard,queryFn:()=>i.hi.get("/dashboard"),refetchInterval:3e4})}function c(){return(0,n.a)({queryKey:l.mediaManagers,queryFn:()=>i.hi.get("/media-managers")})}function d(){return(0,n.a)({queryKey:l.duplicates,queryFn:()=>i.hi.get("/duplicates"),refetchInterval:6e4})}function u(){return(0,n.a)({queryKey:l.scattered,queryFn:()=>i.hi.get("/scattered")})}function m(){return(0,n.a)({queryKey:l.auth,queryFn:()=>i.hi.get("/auth/status")})}function f(){let e=(0,a.NL)();return(0,s.D)({mutationFn:e=>{let{groupId:t,fileId:r}=e;return i.hi.delete("/duplicates/".concat(t).concat(r?"?fileId=".concat(r):""))},onSuccess:()=>{e.invalidateQueries({queryKey:l.duplicates}),e.invalidateQueries({queryKey:l.dashboard})}})}function x(e){let t=(0,a.NL)();return(0,s.D)({mutationFn:t=>{let{itemId:r,blocklist:n=!1}=t;return i.hi.delete("/media-managers/".concat(e,"/queue/").concat(r,"?blocklist=").concat(n))},onSuccess:()=>{t.invalidateQueries({queryKey:["media-managers",e,"queue"]}),t.invalidateQueries({queryKey:l.mediaManagers})}})}},180:function(e,t,r){"use strict";r.d(t,{hi:function(){return l}});class n extends Error{constructor(e,t,r){super(r),this.status=e,this.code=t,this.name="APIError"}}class a extends Error{constructor(e="Network error"){super(e),this.name="NetworkError"}}class s extends Error{constructor(e="Authentication required"){super(e),this.name="AuthError"}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat("/api/v1").concat(e);try{let e=await fetch(r,{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"});if(401===e.status)throw new s;if(!e.ok){let t=await e.json().catch(()=>({}));throw new n(e.status,t.code||"UNKNOWN_ERROR",t.message||"HTTP ".concat(e.status))}return e.json()}catch(e){if(e instanceof n||e instanceof s)throw e;if(e instanceof TypeError)throw new a;throw e}}let l={get:e=>i(e,{method:"GET"}),post:(e,t)=>i(e,{method:"POST",body:t?JSON.stringify(t):void 0}),delete:e=>i(e,{method:"DELETE"})}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s},t:function(){return i}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function i(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB","TB"][t])}}},function(e){e.O(0,[245,763,145,713,746,798,681,718,971,117,744],function(){return e(e.s=3649)}),_N_E=e.O()}]);